# Smart Real Estate Search API Configuration
# Copy this to .env and adjust values

# =============================================================================
# KEYCLOAK / AUTHENTICATION
# =============================================================================

# Enable JWT authentication (default: false for development)
AUTH_ENABLED=false

# Allow anonymous access when auth is enabled but no token provided
ALLOW_ANONYMOUS=true

# Keycloak server URL (without /realms/...)
KEYCLOAK_URL=https://keycloak.example.com

# Keycloak realm name
KEYCLOAK_REALM=master

# Client ID registered in Keycloak for this API
KEYCLOAK_CLIENT_ID=real-estate-search

# =============================================================================
# OPENSEARCH
# =============================================================================

# OpenSearch connection
OPENSEARCH_URL=https://192.168.80.199:9200
OPENSEARCH_USER=admin
OPENSEARCH_PASS=FaraParole69
OPENSEARCH_INDEX=real-estate-*
OPENSEARCH_VERIFY_SSL=false

# Conversation memory index (with DLS)
MEMORY_INDEX=search-conversations

# BGE-M3 Embedding model ID for neural search
EMBEDDING_MODEL_ID=NV1NjpsB_9h2UAIWX3NH


# =============================================================================
# LLM / OLLAMA
# =============================================================================

# Ollama server URL
OLLAMA_URL=http://192.168.80.197:11434
OLLAMA_MODEL=gpt-oss:20b-cloud
OLLAMA_TIMEOUT=30

# =============================================================================
# API SERVER
# =============================================================================

# Server bind settings
HOST=0.0.0.0
PORT=8000

# =============================================================================
# DLS (Document Level Security) - OpenSearch
# =============================================================================
# 
# To enable DLS for user data isolation:
# 1. Run: ./api/setup_dls.sh
# 2. Configure JWT auth in OpenSearch security config
# 3. Set AUTH_ENABLED=true above
#
# DLS ensures:
# - Users can only see their own search sessions/history
# - Phone numbers are masked for non-premium users
# - Saved searches are isolated per user
